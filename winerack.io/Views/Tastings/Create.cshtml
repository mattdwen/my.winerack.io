@model winerack.ViewModels.TastingEditViewModel

@{
  ViewBag.Title = "Taste a glass";
}

<div class="page-header">
  <h1>Taste a Glass</h1>
</div>

@using (Html.BeginForm("Create", "Tastings", FormMethod.Post, new {enctype = "multipart/form-data"}))
{
  @Html.AntiForgeryToken()


  @Html.ValidationSummary(true, "", new {@class = "text-danger"})

  @Html.EditorForModel("Wine")

  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">Tasting</h3>
    </div>

    <div class="panel-body">

      <h4>When</h4>
      <div class="form-group row">
        @Html.LabelFor(m => m.TastingDate, "The date you tasted this wine", new {@class = "form-control-label col-md-4"})
        <div class="col-md-8">
          @Html.EditorFor(m => m.TastingDate, new {htmlAttributes = new {@class = "form-control"}})
          @Html.ValidationMessageFor(m => m.TastingDate, "", new {@class = "text-danger"})
        </div>
      </div>

      <hr/>

      <h4>Tasting notes</h4>
      <div class="form-group row">
        @Html.LabelFor(m => m.TastingNotes, "Anything special you want to remember about this wine", new {@class = "form-control-label col-md-4"})
        <div class="col-md-8">
          @Html.EditorFor(m => m.TastingNotes, new {htmlAttributes = new {@class = "form-control"}})
          @Html.ValidationMessageFor(m => m.TastingNotes, "", new {@class = "text-danger"})
        </div>
      </div>

      <hr/>

      <h4>Photo</h4>

      <div class="form-group row">
        <label class="form-control-label col-md-4">Add a photo of the bottle, glass, or anything else awesome from this tasting</label>
        <div class="col-md-8">
          <a id="photoSelect" href="#">
            <img id="photoPreview" src="//placehold.it/300x200&text=Photo" width="300"/>
          </a>
          <input class="hidden-xs-up" id="Photo" name="Photo" type="file" accept="image/*"/>
        </div>
      </div>

      <hr/>

      <h4>Share</h4>
      <div class="form-group row">
        <label class="form-control-label col-md-4">Share your tasting around the world</label>
        <div class="col-md-8">
          <div class="row">

            @if (Model.HasFacebook)
            {
              <div class="col-md-2 btn-group" data-toggle="buttons">
                <label class="btn btn-block btn-secondary btn-lg">
                  @Html.CheckBoxFor(m => m.PostFacebook, new {autocomplete = "off", @class = "hidden-xs-up"})
                  <i class="fa fa-facebook"></i>
                </label>
              </div>
            }
            else
            {
              <div class="col-md-2">
                <button class="btn btn-block btn-secondary btn-lg" disabled="">
                  <i class="fa fa-facebook"></i>
                </button>
              </div>
            }

            @if (Model.HasTwitter)
            {
              <div class="col-md-2 btn-group" data-toggle="buttons">
                <label class="btn btn-block btn-secondary btn-lg">
                  @Html.CheckBoxFor(m => m.PostTwitter, new {autocomplete = "off", @class = "hidden-xs-up"})
                  <i class="fa fa-twitter"></i>
                </label>
              </div>
            }
            else
            {
              <div class="col-md-2">
                <button class="btn btn-block btn-secondary btn-lg" disabled="">
                  <i class="fa fa-twitter"></i>
                </button>
              </div>
            }

            @if (Model.HasTumblr)
            {
              <div class="col-md-2 btn-group" data-toggle="buttons">
                <label class="btn btn-block btn-secondary btn-lg">
                  @Html.CheckBoxFor(m => m.PostTumblr, new {autocomplete = "off", @class = "hidden-xs-up"})
                  <i class="fa fa-tumblr"></i>
                </label>
              </div>
            }
            else
            {
              <div class="col-md-2">
                <button class="btn btn-block btn-secondary btn-lg" disabled="">
                  <i class="fa fa-tumblr"></i>
                </button>
              </div>
            }

          </div>
        </div>
      </div>

      <hr/>

      <div class="form-group row">
        <div class="col-md-8 col-md-offset-4">
          <button class="btn btn-success btn-lg" type="submit">Save tasting</button>
        </div>
      </div>
    </div>
  </div>
}

@section Scripts {
  @Scripts.Render("~/bundles/wine/editor")
  @Scripts.Render("~/bundles/tastings/create")
}