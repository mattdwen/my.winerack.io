@{
    Layout = "~/Views/Shared/_Structure.cshtml";
}

@section Head {
    @RenderSection("head", required: false)
}

<div class="container">
    @if (Request.IsAuthenticated) {
        <div class="row row-offcanvas">
            @Html.Partial("_Sidenav")

            <div class="body-content col-xs-12 col-sm-11 col-sm-offset-1">
                @if (!string.IsNullOrWhiteSpace(ViewBag.SuccessMessage)) {
                    <div class="alert alert-success alert-dismissable" role="alert">
                        <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        @ViewBag.SuccessMessage
                    </div>
                }

                @if (!string.IsNullOrWhiteSpace(ViewBag.DangerMessage)) {
                    <div class="alert alert-danger alert-dismissable" role="alert">
                        <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        @ViewBag.DangerMessage
                    </div>
                }

                @RenderBody()

                @Html.Partial("_Footer")
            </div>
        </div>
    } else {
        if (!string.IsNullOrWhiteSpace(ViewBag.SuccessMessage)) {
            <div class="alert alert-success alert-dismissable" role="alert">
                <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                @ViewBag.SuccessMessage
            </div>
        }

        if (!string.IsNullOrWhiteSpace(ViewBag.DangerMessage)) {
            <div class="alert alert-danger alert-dismissable" role="alert">
                <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                @ViewBag.DangerMessage
            </div>
        }

        @RenderBody()
        
        @Html.Partial("_Footer")
    }
</div>

@section Scripts {
    @RenderSection("scripts", required: false)
}