@model winerack.Models.ActivityEventViewModels.Base
@using winerack.Helpers
@{
    var imageUrl = "https://winerack.blob.core.windows.net/" + Model.Image + "_sm.jpg";
}

<div class="activity-event panel panel-default">
    <div class="panel-heading">
        <a href="/user/@Model.Actor.UserName">
            <img class="img-circle" src="@ExtensionMethods.ProfileImageUrl("sq_sm", Model.Actor.Id)" width="50" />
            @if (string.IsNullOrWhiteSpace(Model.Actor.Name)) {
                @Model.Actor.UserName
            } else {
                @Model.Actor.Name
            }
        </a>
        @RenderSection("Header", true)
    </div>
    <div class="panel-body">        

        @RenderBody()

        @if (!string.IsNullOrWhiteSpace(Model.Image)) {
            <img src="@imageUrl" width="300" />
        }
        
        <hr />

        <p class="pull-right"><a href="@Model.ViewUrl/@Model.ObjectID">View details</a></p>
        <p class="text-muted">@ExtensionMethods.TimeAgo(Model.OccuredOn)</p>
    </div>
</div>
